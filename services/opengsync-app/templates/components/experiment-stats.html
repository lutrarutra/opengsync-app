{% from "components/spreadsheet.jinja2" import static_spreadsheet %}
{% from "components/spinner.jinja2" import spinner %}
{% from "components/metadata_group.jinja2" import metadata_quantity %}


<div class="row">
    {{ metadata_quantity("Library Reads", num_library_reads, class="col-3") }}
    {{ metadata_quantity("Total Reads", num_total_reads, class="col-3") }}
</div>

<h2>Library Stats</h2>
{{ static_spreadsheet(library_stats) }}

<h2>Pool Reads</h2>
{{ static_spreadsheet(pool_stats) }}

<div hx-get="{{ url_for('plots_api.experiment_library_reads', experiment_id=experiment.id) }}" hx-trigger="intersect once" hx-swap="outerHTML">
    {{ spinner() }}
</div>

<div hx-get="{{ url_for('plots_api.experiment_pool_reads', experiment_id=experiment.id) }}" hx-trigger="intersect once" hx-swap="outerHTML">
    {{ spinner() }}
</div>

<div hx-get="{{ url_for('plots_api.experiment_pool_per_library_reads', experiment_id=experiment.id) }}" hx-trigger="intersect once" hx-swap="outerHTML">
    {{ spinner() }}
</div>